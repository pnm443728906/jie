
# 大纲 #
1. 函数
2. 堆栈
3. 递归



# 课程内容 #

## 函数概念 ##

洗碗机、遥控器


---------
洗衣机

---------
遥控器


函数就是一个功能，是一个工具。

### 计算机为什么发明函数？ ###
1. 重复使用一段代码

2. 方便代码管理

3. 便于控制程序的执行时间





【演示】函数的好处
(show1-重复使用代码.html)



## 写函数 ##
做为一个程序开发人员，我们不仅要学会使用工具（函数），还得学会制作工具（函数）！


多条语句，组合成一个“语句军团”，集体作战。


```
//定义一个函数，函数就是一组语句的集合
function haha() {

	console.log(1);
	console.log(2);
	console.log(3);
	console.log(4);
}

//调用函数
haha();

```



【案例】 输出10颗星星


【练习】 请将打印10次 “我不会武功”
        封装成一个函数
(demo1-写函数.html)




【练习】 写一个函数，弹出一个数字的正负
(demo2-参数.html)




【案例】 计算两数字之和
(demo2-参数.html)





【练习】 带饭： 传入钱 和 饭的类别（面条 或 盖饭）
     面条： 80一碗，炸酱面
	 盖饭： 120一碗，鱼香肉丝

要求： 用 return 返回买的菜
(demo2-参数.html)


## 事件驱动 ##
函数到底什么时候能执行？

js 是事件驱动的程序的



## 堆栈结构 ##
函数到底是如何实现的呢？


【扩展】 值传递 与 引用传递的区别
对象的空间是在内存中“堆”区域分配的。

函数调用时，如果传递的数据是 number 类型的，
那么，函数中的形参会开辟一个空间，直接将这个值存下来
这种方式称为 “值传递”。

函数调用时，如果传递的数据是 Object 类型，
那么，函数中的形参会指向这个 Object 的空间
【Object的空间只有唯一 一份】
这种方式称为“引用传递”


### 作用域 ###
局部变量 与 全局变量

// 在函数内部定义的变量，都是局部变量
// 函数外部定义的变量，称为全局变量



## 递归 ##

为什么叫递归？



---------
老故事： 从前有座山...





---------
问自己在电影院中的座位号？
假设你在一个电影院，你想知道自己坐在哪一排，但是前面人很多，你懒得去数了，于是你问前一排的人「你坐在哪一排？」，这样前面的人 (代号 A) 回答你以后，你就知道自己在哪一排了――只要把 A 的答案加一，就是自己所在的排了。不料 A 比你还懒，他也不想数，于是他也问他前面的人 B「你坐在哪一排？」，这样 A 可以用和你一模一样的步骤知道自己所在的排。然后 B 也如法炮制。直到他们这一串人问到了最前面的一排，第一排的人告诉问问题的人「我在第一排」。最后大家就都知道自己在哪一排了。















---------

天下有奇族人姓计，长生不老。一日其孙问其父：吾之18代祖名何？
其父不明，父问其父
其父不明，父问其父
其父不明，父问其父
其父不明，父问其父
...
晌后，其18代祖回其子：你猜 
然其回其子：你猜
然其回其子：你猜
然其回其子：你猜
然其回其子：你猜
……
终，计姓末代孙知其18代祖名“你猜”


此乃，递归





---------
在世界中心贝拿勒斯（在印度北部）的圣庙里，一块黄铜板上插着三根宝石针。印度教的主神梵天在创造世界的时候，在其中一根针上从下到上地穿好了由大到小的64片金片，这就是所谓的汉诺塔。不论白天黑夜，总有一个僧侣在按照下面的法则移动这些金片：一次只移动一片，不管在哪根针上，小片必须在大片上面。僧侣们预言，当所有的金片都从梵天穿好的那根针上移到另外一根针上时，世界就将在一声霹雳中消灭，而梵塔、庙宇和众生也都将同归于尽。


假如每秒钟一次，共需多长时间呢？一个平年365天有31536000 秒，闰年366天有31622400秒，平均每年31556952秒，计算一下：
18446744073709551615秒


这表明移完这些金片需要5845.54亿年以上，而地球存在至今不过45亿年，太阳系的预期寿命据说也就是数百亿年

---------




【案例】 计算 100!
 (PPT 效果演示)
 
 
 【练习】 求5的阶乘





【案例】 菲波那切数列
有一对兔子，长到第三个月，开始，每月生一对兔子，小兔子出生后，长到第三个月，每月都生一对兔子。假设兔子都不死，问任意月后，共有兔子多少对。

月份   一月兔   二月兔   三月兔     总数
0：      1       0       0        1
1：      0       1       0        1
2：      1       0       1        2
3：      1       1       1        3
4：      2       1       2        5
5：      3       2       3        8
...

总数： 有什么规律？
f(n) = f(n-1) + f(n-2)

1, 1, 2, 3, 5, 8, 13, 21, 34, ...

【练习】 实现函数，求出任意月的斐波那契数。




## 函数高级-封装 ##

【案例】产生 [min, max] 间的随机数

min + parseInt((max-min+1)* Math.random())



【案例】console.log日志、document.write输出的封装




## IIFE ##

IIFE就是immediately-invoked function expression，即时调用函数表达式?  IIFE wikiPIdia
如果一个函数，在定义的时候，我们就想直接调用它，就是一个IIFE。

我们试图在定义函数的后面，直接写圆括号：
```
function fun(){
	alert("哈哈")
}();

```

控制台报错，这是因为函数是一个函数体，并不是表达式，只有表达式能够用()来执行。

所以就要把function fun(){}“降级”， 从函数体降级为表达式。方法有很多：
```
+function fun(){
	alert("哈哈")
}();

```

```
-function fun(){
	alert("哈哈")
}();
```

更通常的：
```
(function fun(){
	alert("哈哈")
})();

```

用这种方法定义的函数，名字是无效的，其他的地方想调用这个函数
	fun("嘻嘻");
就会报错。

所以IIFE里面的函数，都是匿名函数：
```
(function(){
	alert("哈哈");
})();


上面就是一个标准的IIFE。





# 作业 #

所有课堂代码，自己写一遍。


题目1：
求1! + 2! + 3! + 4! + …… + 10!的和
叹号表示阶乘，如4! = 1 * 2 * 3 * 4

---------

题目2：
求一个三位数，该三位数等与其每位数字的阶乘之和。

---------

题目3：
编写一个函数rev用于将一个整数前后倒置。
例如rev(12345)将返回54321，rev(123)将返回321
整数位数不限制，多少位都行。

---------

题目4：
如果整数A 的全部约数（包括1，不包括A 本身）之和等于B，且整数B 的全部约数
（包括1，不包括B 本身）之和等于A，则称整数A和B是一对亲密数。
求3000 以内的全部亲密数。

---------


（补充扩展部分）

1. 编写函数，求一个正数的n次方

2. 编写函数，求4个数的平均值

3. 计算N个数字的和（百度找资料）

4. 输出斐波那契额数列数列的前20项(递归或非递归)

