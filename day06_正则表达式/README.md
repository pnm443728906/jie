

# 大纲 #

1. String 对象复习
2. 正则表达式
3. 正则表达式的应用


# 课程内容 #

### 字符串方法复习 ###

concat字符串拼接
charAt 获取某位置上的字符
charCodeAt获取某位置上的字符编码
slice 截取字符串
subString截取字符串
subStr截取字符串
indexOf 获取字符在字符串中的位置
lastIndexOf 获取字符在字符串中的位置 逆向
search 获取字符在字符串中的位置
split 字符串转化成数组
replace 字符串替换 



### 字符串对象 ###

1. 字符串对象定义
2. 取出字符串中的字符

ASCII码 规定 0~127 之间的字符 
（数字、英文字母、键盘）

(只占1字节)

中文字符
字符表： 
gb2312 规定 6000多个常用字符的编码

1111 1111(2) ==> 255(10)
1111 1111 1111 1111(2) ==> 65535(10) 

** 中文字符 占2个字节 **

GBK 标准： 增加少数民族的文字字符
中文字符 占2个字节

GB2312, GBK 统称为 多字节编码


---------
想把全世界所有的符号 都存下来，2个字节（65535）即可都存下来，
所以，标准组织规定，所有字符都用 2个字节进行编码 
统称为 Unicode 编码

Unicode-4 编码，用4个字节来字符，数量很庞大了，可以存下整个银河系的字符。用于以后扩展用


---------
为了节约存储空间和网络流量，推出 UTF-8 编码

即通过一种算法计算字符的编码，可以存所有的中文、英文、世界上的符号，这种算法算出来的空间比 Unicode 编码少

---------

3. ASCII码 与 字符编码
4. 字符串查找

### 案例实战 ###

---------
【案例】 加密解密

```
// 获取对应字符的 ASCII 编码
var code = str.charCodeAt(i);

// ASCII 码 转换成 字符
var c = String.fromCharCode(code);


// ------------------

var arr1 = [1, 2, 3];

// map 数组的方法
// 遍历数组中的所有元素
// 可以通过修改返回值，将数组中的元素重新改个形式
var arr2 = arr1.map(function (a) {
    return "<span>" + a;
});

// ------------------

// 按照 "" 联结数组中所有的元素
// 返回拼接之后的字符串
var result = arr2.join("");

```


【加密后的优化】
通过数学运算进行加密


---------
string 与 new String 的区别

// 为什么字符串类型的变量，可以使用 字符串对象中的方法
// 其实这一个方法，内部还是创建一个字符串的对象
// str.charAt(1);

/*
//等价于
var t = new String(str);
t.charAt(1);
// 最后将 t 释放掉
*/



---------
【案例】 计算商品总价

基本的  html + css 结构, 图片为 s1.jpg

```
<style>
.pshow{padding:15px;overflow:hidde;}
.pshow h1{font-size:18px;}
.pshow img{float:left;margin-right:20px;width:300px;border:1px solid #ddd;}
#subPrice{color:#c00;font-weight:bold;}
#qty{width:60px;}
</style>


<div class="pshow">
	<h1>Nike 耐克官方 NIKE AIR MAX 90 ESSENTIAL 男子运动鞋 537384</h1>
	<img src="s1.jpg">
	<p id="price">价格：599.98元</p>
	<p>数量：<input type="number" id="qty" min="1" max="100"></p>
	<p>总价：<span id="subPrice"></span></p>
</div>
```

(demo8-价格计算.html)

---------
【案例】 过滤敏感词



## 正则表达式 ##

### 为什么要学正则？ ###

找出字符串中所有的数字

var arr = str.match(/\d+/g);





国外传过来的，我们翻译的不太好


大陆： 正则
台湾： 规则表达式

### 引入 ###

如何向一个不会的人介绍邮箱？

### 总结 ###
规则、模式
非常强大的字符串匹配

火星文： 正常人很难看懂的文字



### 元字符 ###

可以称为方括号

[abc] 中间的字符代表是或的意思，任选一个即可

[0-9] 范围
[^a-z] 排除
[^a-z0-9] 排除所有字母与数字


### 量词 ###


```
{n} 正好出现 n 次
{n, m} 最少n次，最多m次
{n,} 最少n次，最多不限

+ 等价于 {1, }
? 等价于{0,1}
* 等价于 {0, } （不推荐用）  /\d*/g 找字符时会多很多空格


```

QQ 号: 5~11位
[1-9]\d{4, 11}


固定电话，可有可无 
010-68812341-1234

(0\d{2,3})?[1-9]\d{7}(-\d{1,5})?

括号是代表，分成一组 的意思

## 应用 ##


### 主要方法 ###

今天我们要学习6个方法
正则相关方法： exec和test
字符串相关方法： search， match， split，replace


### 算算这里都有哪些数字？ ###

```
asdf 34 656 asdf 34 656asdf 34 656asdf 34 656 cvs33 656
```


### 表单校验大全 ###

用户名, 
电话号码 
电子邮箱 
QQ: 
身份证号: 

### 敏感词过滤 ###

将百度, 北京，淘宝敏感词过滤掉


## 作业 ##

1. 检测是否是数字，包括整数，小数
2. 检测是否是本地电话，如010-12345678,0418-12345678
3. 将用户输入的网址全部转化成我们的官网。如www.baidu.com=>www.ucai.com
4. 实现trim(str)方法，过滤字符串首位空白
5. 
```
获取<p class='demo'>hello ucai</p>内部文案
```
6. 

```
将div#demo.demo转化成<div id="demo" class="demo"></div>
```

7. 检测是否是2到4位汉字
8. 检测昵称是否是有汉字字母数字下划线组成，6-8位
	







