<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
 </head>
 <body>
  
  <h1> 强大的注册页！ </h1>

  用户名： <input type="text" id="user" />

	<br>

  手机号： <input type="text" id="phone" />


  <div>
	<input type="button" value="注册" onclick="reg()"/>
  </div>

  <script>

// 练习： 实现用户名与手机号码的同时验证
//             10:15 继续   10:20 分继续

// 注册

// 休息20分钟。 11:00 继续

//  邮箱
//  密码
//  地址

function reg()
{
	if ( !testUser() )
	{
		document.write("请输入正确的用户名");

		// 对于函数的终止，使用 return
		return ;
	}

	if ( !testPhone() )
	{
		document.write("请输入正确的手机号码");

		return ;
	}

	document.write("恭喜你注册成功！");
}


// 验证用户名
function testUser()
{
	// 用户名规则：   必须是字母、数字、下划线；  6~20字符； 字母开头；

	//    开始   字母       字母、数字、下划线（5~19）  结束
	//     ^     [a-zA-Z]          \w{5,19}              $

	// 验证用户名
	var reg1 = /^[a-zA-Z]\w{5,19}$/

	var str1 = user.value

	if (reg1.test(str1))
	{
		// document.write("用户名正确");
		return true
	}
	else
	{
		// document.write("请输入正确的用户名！");
		return false
	}

}


function testPhone()
{
	// 验证手机号码是否符合规则
	//       开始     1   3、5、7、8、4      9个数字                     结束
	//        ^		  1		[35784]			  \d{9}					      $
	//                   (3|5|7|8|4)
	
	// 或者   |
	// 例如 匹配3、5、7、8、4中的1个数字      (3|5|7|8|4)


	// 19811111111
	// 13、15、17、18、14   
	// 创建1个正则表达式，验证手机号码
	var reg1 = /^1(3|5|7|8|4)\d{9}$/

	// 取出字符串
	var str1 = phone.value

	//  test 验证
	//     函数 返回值： 如果验证通过返回true
	//                   非0的数字、非空字符串 默认为true
	//                   0、""、undefined、null、NaN 默认为false
	if ( reg1.test(str1)  )
	{
		// document.write("注册成功");

		return true
	}
	else
	{
		// document.write("请输入正确的手机号码！");
		return false
	}
}

  </script>
 
 </body>
</html>
